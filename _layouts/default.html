<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: "en" }}">

  {% include head.html %}

  <body>

    {% include header.html %}

    <main role=main class="group {% if page.text %}text{% endif %}">

      {% if page.sidebar %}

        {% include sidebar.html %}

      {% endif %}

      {{ content }}

    </main>

    {% include footer.html %}

    <script src="{{ "/assets/javascripts/jquery-3.1.1.min.js" | relative_url }}"></script>

    {% if page.math %}

    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        displayAlign: "left",
      });
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>

    {% endif %}

    {% if page.custom_js %}
      {% for js_file in page.custom_js %}
      <script src='/assets/javascripts/{{ js_file }}.js' type="text/javascript"></script>
      {% endfor %}
    {% endif %}

    {% if page.sidebar %}
      <script>
        $('.author__urls-wrapper .btn').click(function() {
            $(this).toggleClass("btn-active");
            $('ul.author__urls').toggle();
        });
    </script>
    {% endif %}

    <script>
      var last = "{{ site.email | split: '@' | last }}";
      $('span#year').html(new Date().getFullYear());
      var first = "{{ site.email | split: '@' | first }}";
      $(document.links).filter(function() {
          return this.hostname != window.location.hostname;
      }).attr('target', '_blank');
      var email = "mailto:" + first + '@' + last;
      $('.email').attr("href", email);
    </script>

  </body>

</html>
